- services::index（索引编排）
  - EnqueueParse：异步入队解析任务
  - RunParse：执行解析并写入 NodeTree/AST
  - RefreshIndex：重建或增量刷新索引
  - InvalidateCache：失效缓存
  - GetIndexStatus：查询解析/索引状态（待处理/进行中/失败/完成）
  - 说明：services::index 负责调度与最小闭环（解析 → 收集 → 入库）；解析/索引构建由 search::domain 定义端口，search::adapters 提供实现
  - 详细调度策略与队列实现见 `crates/services/src/index/` 与 `crates/search/src/application/`
- services::render（渲染/预览）
  - RenderMarkdown/RenderHtml/RenderMarkmap：按格式渲染
  - RenderDocument：门面用例，按 format 路由到具体用例
  - HTML 渲染遵循 SRP：数据加载、Markdown→HTML、HTML 后处理、安全净化分离，仅由 RenderHtml 负责编排
  - Inline 渲染策略可复用：RenderHtml 与 RenderMarkmap 共享 inline 规则，保持预览一致性
  - render 模块职责与 SRP 约束见 `services/render.md`
  - RenderMarkmap 的协议与输出结构见 `docs/shared/markmap-protocol.md`。
  - 渲染实现与规则细节见 `crates/services/src/render/`
- services::search（检索编排）
  - Search：全文/结构检索与分页
  - SearchScope：doc/folder/workspace
  - GetNodeTree：按 file_id 获取解析后的结构树
  - QueryHighlights：命中片段与高亮
  - GetNodeDetails：获取节点详情（含 NodeExtra）
  - GetSearchSuggestions（可选）：标签/标题建议
  - 具体查询与高亮策略见 `crates/search/src/`
 - services::document（文档用例编排）
   - 文档读写、渲染入口与生命周期编排（与 render/search 协作）。
   - 实现入口：`crates/services/src/document/`
 - services::workspace（工作区与文件树）
   - 当前工作区获取、文件树构建、配置覆盖等编排。
   - 实现入口：`crates/services/src/workspace/`
 - services::export（导出入口）
   - 导出用例入口与调度（当前为占位实现）。
   - 实现入口：`crates/services/src/export/`
 - services::config（配置加载）
   - 运行期配置加载与装配入口。
   - 实现入口：`crates/services/src/config/`
- services::node_types（节点类型初始化）
  - NodeType/NodeTypeMeta 等初始化与映射入口。
  - 实现入口：`crates/services/src/node_types/`

## 入口索引（细分模块）

- index：`services/index.md`
- search：`services/search.md`
- document：`services/document.md`
- workspace：`services/workspace.md`
- export：`services/export.md`
- config：`services/config.md`
- node_types：`services/node_types.md`
